/*! For license information please see 9439.388a88dc.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[9439],{66871:(t,e,r)=>{r.d(e,{Z:()=>c,Q:()=>u});var s=r(67614),i=r(51212),n=r(48348),a=r(46196),o=r(33085);var h=r(42957);function l(t,e,r,i){var n,l=(0,s.ly)(t,e,r);switch((i=(0,a.Z)(null==i?",f":i)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(n=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,o.Z)(e)/3)))-(0,o.Z)(Math.abs(t)))}(l,u))||(i.precision=n),(0,h.jH)(i,u);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(n=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,(0,o.Z)(e)-(0,o.Z)(t))+1}(l,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=n-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(n=function(t){return Math.max(0,-(0,o.Z)(Math.abs(t)))}(l))||(i.precision=n-2*("%"===i.type))}return(0,h.WU)(i)}function u(t){var e=t.domain;return t.ticks=function(t){var r=e();return(0,s.ZP)(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){var s=e();return l(s[0],s[s.length-1],null==t?10:t,r)},t.nice=function(r){null==r&&(r=10);var i,n,a=e(),o=0,h=a.length-1,l=a[o],u=a[h],c=10;for(u<l&&(n=l,l=u,u=n,n=o,o=h,h=n);c-- >0;){if((n=(0,s.G9)(l,u,r))===i)return a[o]=l,a[h]=u,e(a);if(n>0)l=Math.floor(l/n)*n,u=Math.ceil(u/n)*n;else{if(!(n<0))break;l=Math.ceil(l*n)/n,u=Math.floor(u*n)/n}i=n}return t},t}function c(){var t=(0,i.ZP)();return t.copy=function(){return(0,i.JG)(t,c())},n.o.apply(t,arguments),u(t)}},58838:(t,e,r)=>{function s(t,e){if(!t)throw new Error("null row");if(!e)throw new Error("no headers");const r={};for(let s=0;s<e.length;s++)r[e[s]]=t[s];return r}function i(t,e){if(!t)throw new Error("null row");if(!e)throw new Error("no headers");const r=new Array(e.length);for(let s=0;s<e.length;s++)r[s]=t[e[s]];return r}let n;r.d(e,{w:()=>E});class a extends Array{enqueue(t){return this.push(t)}dequeue(){return this.shift()}}n=Symbol.asyncIterator;class o{constructor(){this._values=void 0,this._settlers=void 0,this._closed=void 0,this._values=new a,this._settlers=new a,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[n](){return this}enqueue(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const e=this._settlers.dequeue();t instanceof Error?e.reject(t):e.resolve({value:t})}else this._values.enqueue(t)}next(){if(this._values.length>0){const t=this._values.dequeue();return t instanceof Error?Promise.reject(t):Promise.resolve({value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise(((t,e)=>{this._settlers.enqueue({resolve:t,reject:e})}))}}class h{constructor(t,e){if(this.schema=void 0,this.options=void 0,this.length=0,this.rows=null,this.cursor=0,this._headers=[],this.options=e,this.schema=t,!Array.isArray(t)){this._headers=[];for(const e in t)this._headers[t[e].index]=t[e].name}}rowCount(){return this.length}addArrayRow(t,e){Number.isFinite(e)&&(this.cursor=e),this.rows=this.rows||new Array(100),this.rows[this.length]=t,this.length++}addObjectRow(t,e){Number.isFinite(e)&&(this.cursor=e),this.rows=this.rows||new Array(100),this.rows[this.length]=t,this.length++}getBatch(){let t=this.rows;if(!t)return null;t=t.slice(0,this.length),this.rows=null;return{shape:this.options.shape,batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}}}class l{constructor(t,e){if(this.schema=void 0,this.options=void 0,this.length=0,this.objectRows=null,this.arrayRows=null,this.cursor=0,this._headers=[],this.options=e,this.schema=t,!Array.isArray(t)){this._headers=[];for(const e in t)this._headers[t[e].index]=t[e].name}}rowCount(){return this.length}addArrayRow(t,e){switch(Number.isFinite(e)&&(this.cursor=e),this.options.shape){case"object-row-table":const r=s(t,this._headers);this.addObjectRow(r,e);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=t,this.length++}}addObjectRow(t,e){switch(Number.isFinite(e)&&(this.cursor=e),this.options.shape){case"array-row-table":const r=i(t,this._headers);this.addArrayRow(r,e);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=t,this.length++}}getBatch(){let t=this.arrayRows||this.objectRows;return t?(t=t.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}class u{constructor(t,e){this.schema=void 0,this.length=0,this.allocated=0,this.columns={},this.schema=t,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(t){this._reallocateColumns();let e=0;for(const r in this.columns)this.columns[r][this.length]=t[e++];this.length++}addObjectRow(t){this._reallocateColumns();for(const e in t)this.columns[e][this.length]=t[e];this.length++}getBatch(){this._pruneColumns();const t=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const e in this.schema){const r=this.schema[e];t[r.name]=this.columns[r.index]}this.columns={};return{shape:"columnar-table",batchType:"data",data:t,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={};for(const t in this.schema){const e=this.schema[t],r=e.type||Float32Array,s=this.columns[e.index];if(s&&ArrayBuffer.isView(s)){const t=new r(this.allocated);t.set(s),this.columns[e.index]=t}else s?(s.length=this.allocated,this.columns[e.index]=s):this.columns[e.index]=new r(this.allocated)}}}_pruneColumns(){for(const[t,e]of Object.entries(this.columns))this.columns[t]=e.slice(0,this.length)}}const c={shape:"array-row-table",batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},d="TableBatchBuilder";class f{constructor(t,e){this.schema=void 0,this.options=void 0,this.aggregator=null,this.batchCount=0,this.bytesUsed=0,this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),this.totalLength=0,this.totalBytes=0,this.rowBytes=0,this.schema=t,this.options={...c,...e}}limitReached(){var t,e;return!!(Boolean(null===(t=this.options)||void 0===t?void 0:t.limit)&&this.totalLength>=this.options.limit)||!!(Boolean(null===(e=this.options)||void 0===e?void 0:e._limitMB)&&this.totalBytes/1e6>=this.options._limitMB)}addRow(t){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(t),this.totalBytes+=this.rowBytes,Array.isArray(t)?this.addArrayRow(t):this.addObjectRow(t))}addArrayRow(t){if(!this.aggregator){const t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addArrayRow(t)}addObjectRow(t){if(!this.aggregator){const t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addObjectRow(t)}chunkComplete(t){t instanceof ArrayBuffer&&(this.bytesUsed+=t.byteLength),"string"==typeof t&&(this.bytesUsed+=t.length),this.isChunkComplete=!0}getFullBatch(t){return this._isFull()?this._getBatch(t):null}getFinalBatch(t){return this._getBatch(t)}_estimateRowMB(t){return Array.isArray(t)?8*t.length:8*Object.keys(t).length}_isFull(){if(!this.aggregator||0===this.aggregator.rowCount())return!1;if("auto"===this.options.batchSize){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs)&&(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),!0)}_getBatch(t){if(!this.aggregator)return null;null!=t&&t.bytesUsed&&(this.bytesUsed=t.bytesUsed);const e=this.aggregator.getBatch();return e.count=this.batchCount,e.bytesUsed=this.bytesUsed,Object.assign(e,t),this.batchCount++,this.aggregator=null,e}_getTableBatchType(){switch(this.options.shape){case"row-table":return h;case"array-row-table":case"object-row-table":return l;case"columnar-table":return u;case"arrow-table":if(!f.ArrowBatch)throw new Error(d);return f.ArrowBatch;default:throw new Error(d)}}}f.ArrowBatch=void 0;const p={parse:function(t,e,r){var s=(e=e||{}).dynamicTyping||!1;A(s)&&(e.dynamicTypingFunction=s,s={});if(e.dynamicTyping=s,e.transform=!!A(e.transform)&&e.transform,e.worker&&p.WORKERS_SUPPORTED){var i=newWorker();return i.userStep=e.step,i.userChunk=e.chunk,i.userComplete=e.complete,i.userError=e.error,e.step=A(e.step),e.chunk=A(e.chunk),e.complete=A(e.complete),e.error=A(e.error),delete e.worker,void i.postMessage({input:t,config:e,workerId:i.id})}var n=null;"string"==typeof t&&(n=new y(e));n||(n=new r(e));return n.stream(t)},unparse:function(t,e){var r=!1,s=!0,i=",",n="\r\n",a='"',o=a+a,h=!1,l=null;!function(){if("object"!=typeof e)return;"string"!=typeof e.delimiter||p.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(i=e.delimiter);("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(r=e.quotes);"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(h=e.skipEmptyLines);"string"==typeof e.newline&&(n=e.newline);"string"==typeof e.quoteChar&&(a=e.quoteChar);"boolean"==typeof e.header&&(s=e.header);if(Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");l=e.columns}void 0!==e.escapeChar&&(o=e.escapeChar+a)}();var u=new RegExp(b(a),"g");"string"==typeof t&&(t=JSON.parse(t));if(Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return d(null,t,h);if("object"==typeof t[0])return d(l||c(t[0]),t,h)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:c(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),d(t.fields||[],t.data||[],h);throw new Error("Unable to serialize unrecognized input");function c(t){if("object"!=typeof t)return[];var e=[];for(var r in t)e.push(r);return e}function d(t,e,r){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var o=Array.isArray(t)&&t.length>0,h=!Array.isArray(e[0]);if(o&&s){for(var l=0;l<t.length;l++)l>0&&(a+=i),a+=f(t[l],l);e.length>0&&(a+=n)}for(var u=0;u<e.length;u++){var c=o?t.length:e[u].length,d=!1,p=o?0===Object.keys(e[u]).length:0===e[u].length;if(r&&!o&&(d="greedy"===r?""===e[u].join("").trim():1===e[u].length&&0===e[u][0].length),"greedy"===r&&o){for(var g=[],m=0;m<c;m++){var y=h?t[m]:m;g.push(e[u][y])}d=""===g.join("").trim()}if(!d){for(var w=0;w<c;w++){w>0&&!p&&(a+=i);var b=o&&h?t[w]:w;a+=f(e[u][b],w)}u<e.length-1&&(!r||c>0&&!p)&&(a+=n)}}return a}function f(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);t=t.toString().replace(u,o);var s="boolean"==typeof r&&r||Array.isArray(r)&&r[e]||function(t,e){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>-1)return!0;return!1}(t,p.BAD_DELIMITERS)||t.indexOf(i)>-1||" "===t.charAt(0)||" "===t.charAt(t.length-1);return s?a+t+a:t}},RECORD_SEP:String.fromCharCode(30),UNIT_SEP:String.fromCharCode(31),BYTE_ORDER_MARK:"\ufeff",BAD_DELIMITERS:["\r","\n",'"',"\ufeff"],WORKERS_SUPPORTED:!1,NODE_STREAM_INPUT:1,LocalChunkSize:10485760,RemoteChunkSize:5242880,DefaultDelimiter:",",Parser:_,ParserHandle:w,ChunkStreamer:m,StringStreamer:y},g=p;function m(t){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=v(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null);this._handle=new w(e),this._handle.streamer=this,this._config=e}.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&A(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(t);void 0!==r&&(t=r)}this.isFirstChunk=!1;var s=this._partialLine+t;this._partialLine="";var i=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var n=i.meta.cursor;this._finished||(this._partialLine=s.substring(n-this._baseIndex),this._baseIndex=n),i&&i.data&&(this._rowCount+=i.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(A(this._config.chunk)&&!e){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return;i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!a||!A(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(t){A(this._config.error)&&this._config.error(t)}}function y(t){var e;t=t||{},m.call(this,t),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,r=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(r)}}}function w(t){var e,r,s,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,n=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,a=this,o=0,h=0,l=!1,u=!1,c=[],d={data:[],errors:[],meta:{}};if(A(t.step)){var f=t.step;t.step=function(e){if(d=e,y())m();else{if(m(),!d.data||0===d.data.length)return;o+=e.data.length,t.preview&&o>t.preview?r.abort():f(d,a)}}}function g(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function m(){if(d&&s&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),s=!1),t.skipEmptyLines)for(var e=0;e<d.data.length;e++)g(d.data[e])&&d.data.splice(e--,1);return y()&&function(){if(!d)return;function e(e){A(t.transformHeader)&&(e=t.transformHeader(e)),c.push(e)}if(Array.isArray(d.data[0])){for(var r=0;y()&&r<d.data.length;r++)d.data[r].forEach(e);d.data.splice(0,1)}else d.data.forEach(e)}(),function(){if(!d||!d.data||!t.header&&!t.dynamicTyping&&!t.transform)return d;function e(e,r){var s,i=t.header?{}:[];for(s=0;s<e.length;s++){var n=s,a=e[s];t.header&&(n=s>=c.length?"__parsed_extra":c[s]),t.transform&&(a=t.transform(a,n)),a=w(n,a),"__parsed_extra"===n?(i[n]=i[n]||[],i[n].push(a)):i[n]=a}return t.header&&(s>c.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+c.length+" fields but parsed "+s,h+r):s<c.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+c.length+" fields but parsed "+s,h+r)),i}var r=1;!d.data[0]||Array.isArray(d.data[0])?(d.data=d.data.map(e),r=d.data.length):d.data=e(d.data,0);t.header&&d.meta&&(d.meta.fields=c);return h+=r,d}()}function y(){return t.header&&0===c.length}function w(e,r){return function(e){return t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),!0===(t.dynamicTyping[e]||t.dynamicTyping)}(e)?"true"===r||"TRUE"===r||"false"!==r&&"FALSE"!==r&&(i.test(r)?parseFloat(r):n.test(r)?new Date(r):""===r?null:r):r}function C(t,e,r,s){d.errors.push({type:t,code:e,message:r,row:s})}this.parse=function(i,n,a){var o=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var r=new RegExp(b(e)+"([^]*?)"+b(e),"gm");t=t.replace(r,"");var s=t.split("\r"),i=t.split("\n"),n=i.length>1&&i[0].length<s[0].length;if(1===s.length||n)return"\n";for(var a=0,o=0;o<s.length;o++)"\n"===s[o][0]&&a++;return a>=s.length/2?"\r\n":"\r"}(i,o)),s=!1,t.delimiter)A(t.delimiter)&&(t.delimiter=t.delimiter(i),d.meta.delimiter=t.delimiter);else{var h=function(e,r,s,i,n){var a,o,h;n=n||[",","\t","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var l=0;l<n.length;l++){var u=n[l],c=0,d=0,f=0;h=void 0;for(var m=new _({comments:i,delimiter:u,newline:r,preview:10}).parse(e),y=0;y<m.data.length;y++)if(s&&g(m.data[y]))f++;else{var w=m.data[y].length;d+=w,void 0!==h?w>1&&(c+=Math.abs(w-h),h=w):h=0}m.data.length>0&&(d/=m.data.length-f),(void 0===o||c>o)&&d>1.99&&(o=c,a=u)}return t.delimiter=a,{successful:!!a,bestDelimiter:a}}(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);h.successful?t.delimiter=h.bestDelimiter:(s=!0,t.delimiter=p.DefaultDelimiter),d.meta.delimiter=t.delimiter}var u=v(t);return t.preview&&t.header&&u.preview++,e=i,r=new _(u),d=r.parse(e,n,a),m(),l?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,r.abort(),e=e.substr(r.getCharIndex())},this.resume=function(){l=!1,a.streamer.parseChunk(e,!0)},this.aborted=function(){return u},this.abort=function(){u=!0,r.abort(),d.meta.aborted=!0,A(t.complete)&&t.complete(d),e=""}}function b(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(t){var e,r=(t=t||{}).delimiter,s=t.newline,i=t.comments,n=t.step,a=t.preview,o=t.fastMode,h=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(h=t.escapeChar),("string"!=typeof r||p.BAD_DELIMITERS.indexOf(r)>-1)&&(r=","),i===r)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||p.BAD_DELIMITERS.indexOf(i)>-1)&&(i=!1),"\n"!==s&&"\r"!==s&&"\r\n"!==s&&(s="\n");var l=0,u=!1;this.parse=function(t,c,d){if("string"!=typeof t)throw new Error("Input must be a string");var f=t.length,p=r.length,g=s.length,m=i.length,y=A(n);l=0;var w=[],_=[],v=[],C=0;if(!t)return F();if(o||!1!==o&&-1===t.indexOf(e)){for(var k=t.split(s),R=0;R<k.length;R++){if(v=k[R],l+=v.length,R!==k.length-1)l+=s.length;else if(d)return F();if(!i||v.substr(0,m)!==i){if(y){if(w=[],O(v.split(r)),L(),u)return F()}else O(v.split(r));if(a&&R>=a)return w=w.slice(0,a),F(!0)}}return F()}for(var x,E=t.indexOf(r,l),S=t.indexOf(s,l),T=new RegExp(b(h)+b(e),"g");;)if(t[l]!==e)if(i&&0===v.length&&t.substr(l,m)===i){if(-1===S)return F();l=S+g,S=t.indexOf(s,l),E=t.indexOf(r,l)}else if(-1!==E&&(E<S||-1===S))v.push(t.substring(l,E)),l=E+p,E=t.indexOf(r,l);else{if(-1===S)break;if(v.push(t.substring(l,S)),I(S+g),y&&(L(),u))return F();if(a&&w.length>=a)return F(!0)}else{for(x=l,l++;;){if(-1===(x=t.indexOf(e,x+1)))return d||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:l}),D();if(x===f-1)return D(t.substring(l,x).replace(T,e));if(e!==h||t[x+1]!==h){if(e===h||0===x||t[x-1]!==h){var B=j(-1===S?E:Math.min(E,S));if(t[x+1+B]===r){if(v.push(t.substring(l,x).replace(T,e)),l=x+1+B+p,E=t.indexOf(r,l),S=t.indexOf(s,l),y&&(L(),u))return F();if(a&&w.length>=a)return F(!0);break}var M=j(S);if(t.substr(x+1+M,g)===s){if(v.push(t.substring(l,x).replace(T,e)),I(x+1+M+g),E=t.indexOf(r,l),y&&(L(),u))return F();if(a&&w.length>=a)return F(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:l}),x++}}else x++}if(y&&(L(),u))return F();if(a&&w.length>=a)return F(!0)}return D();function O(t){w.push(t),C=l}function j(e){var r=0;if(-1!==e){var s=t.substring(x+1,e);s&&""===s.trim()&&(r=s.length)}return r}function D(e){return d||(void 0===e&&(e=t.substr(l)),v.push(e),l=f,O(v),y&&L()),F()}function I(e){l=e,O(v),v=[],S=t.indexOf(s,l)}function F(t,e){return{data:e||!1?w[0]:w,errors:_,meta:{delimiter:r,linebreak:s,aborted:u,truncated:!!t,cursor:C+(c||0)}}}function L(){n(F(void 0,!0)),w=[],_=[]}},this.abort=function(){u=!0},this.getCharIndex=function(){return l}}function v(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=v(t[r]);return e}function A(t){return"function"==typeof t}y.prototype=Object.create(y.prototype),y.prototype.constructor=y;const{ChunkStreamer:C}=g;function k(t){t=t||{},C.call(this,t),this.textDecoder=new TextDecoder(this._config.encoding),this.stream=async function(t){this._input=t;try{for await(const e of t)this.parseChunk(this.getStringChunk(e));this._finished=!0,this.parseChunk("")}catch(e){this._sendError(e)}},this._nextChunk=function(){},this.getStringChunk=function(t){return"string"==typeof t?t:this.textDecoder.decode(t,{stream:!0})}}k.prototype=Object.create(C.prototype),k.prototype.constructor=k;const R="undefined"!=typeof __VERSION__?__VERSION__:"latest",x="object-row-table",E={id:"csv",module:"csv",name:"CSV",version:R,extensions:["csv","tsv","dsv"],mimeTypes:["text/csv","text/tab-separated-values","text/dsv"],category:"table",parse:async(t,e)=>S((new TextDecoder).decode(t),e),parseText:(t,e)=>S(t,e),parseInBatches:function(t,e){var r;"auto"===(e={...e}).batchSize&&(e.batchSize=4e3);const s={...E.options.csv,...null===(r=e)||void 0===r?void 0:r.csv},i=new o;let n=!0,a=null,h=null,l=null;const u={...s,header:!1,download:!1,chunkSize:5242880,skipEmptyLines:!1,step(t){let r=t.data;if(s.skipEmptyLines){if(""===r.flat().join("").trim())return}const o=t.meta.cursor;if(n&&!a){if("auto"===s.header?T(r):Boolean(s.header))return void(a=r.map(B()))}n&&(n=!1,a||(a=M(s.columnPrefix,r.length)),l=function(t,e){const r=e?{}:[];for(let s=0;s<t.length;s++){const i=e&&e[s]||s;switch(typeof t[s]){case"number":case"boolean":r[i]={name:String(i),index:s,type:Float32Array};break;default:r[i]={name:String(i),index:s,type:Array}}}return r}(r,a)),s.optimizeMemoryUsage&&(r=JSON.parse(JSON.stringify(r)));const u=s.shape||x;h=h||new f(l,{shape:u,...e});try{h.addRow(r);const t=h&&h.getFullBatch({bytesUsed:o});t&&i.enqueue(t)}catch(c){i.enqueue(c)}},complete(t){try{const e=t.meta.cursor,r=h&&h.getFinalBatch({bytesUsed:e});r&&i.enqueue(r)}catch(e){i.enqueue(e)}i.close()}};return g.parse(t,u,k),i},options:{csv:{shape:x,optimizeMemoryUsage:!1,header:"auto",columnPrefix:"column",quoteChar:'"',escapeChar:'"',dynamicTyping:!0,comments:!1,skipEmptyLines:!0,delimitersToGuess:[",","\t","|",";"]}}};async function S(t,e){const r={...E.options.csv,...null==e?void 0:e.csv},n=function(t){const e=g.parse(t,{download:!1,dynamicTyping:!0,preview:1});return e.data[0]}(t),a="auto"===r.header?T(n):Boolean(r.header),o={...r,header:a,download:!1,transformHeader:a?B():void 0,error:t=>{throw new Error(t)}},h=g.parse(t,o),l=h.data,u=h.meta.fields||M(r.columnPrefix,n.length),c=r.shape||x;switch(c){case"object-row-table":return{shape:"object-row-table",data:l.map((t=>Array.isArray(t)?s(t,u):t))};case"array-row-table":return{shape:"array-row-table",data:l.map((t=>Array.isArray(t)?t:i(t,u)))};default:throw new Error(c)}}function T(t){return t&&t.every((t=>"string"==typeof t))}function B(){const t=new Set;return e=>{let r=e,s=1;for(;t.has(r);)r=`${e}.${s}`,s++;return t.add(r),r}}function M(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=[];for(let s=0;s<e;s++)r.push(`${t}${s+1}`);return r}}}]);