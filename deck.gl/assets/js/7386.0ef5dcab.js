/*! For license information please see 7386.0ef5dcab.js.LICENSE.txt */
(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[7386],{80645:(t,e)=>{e.read=function(t,e,i,n,o){var s,r,a=8*o-n-1,u=(1<<a)-1,h=u>>1,l=-7,p=i?o-1:0,f=i?-1:1,d=t[e+p];for(p+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+t[e+p],p+=f,l-=8);for(r=s&(1<<-l)-1,s>>=-l,l+=n;l>0;r=256*r+t[e+p],p+=f,l-=8);if(0===s)s=1-h;else{if(s===u)return r?NaN:1/0*(d?-1:1);r+=Math.pow(2,n),s-=h}return(d?-1:1)*r*Math.pow(2,s-n)},e.write=function(t,e,i,n,o,s){var r,a,u,h=8*s-o-1,l=(1<<h)-1,p=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,c=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,r=l):(r=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-r))<1&&(r--,u*=2),(e+=r+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(r++,u/=2),r+p>=l?(a=0,r=l):r+p>=1?(a=(e*u-1)*Math.pow(2,o),r+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,o),r=0));o>=8;t[i+d]=255&a,d+=c,a/=256,o-=8);for(r=r<<o|a,h+=o;h>0;t[i+d]=255&r,d+=c,r/=256,h-=8);t[i+d-c]|=128*g}},3614:(t,e,i)=>{"use strict";t.exports=o;var n=i(80645);function o(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}o.Varint=0,o.Fixed64=1,o.Bytes=2,o.Fixed32=5;var s=4294967296,r=1/s,a="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function u(t){return t.type===o.Bytes?t.readVarint()+t.pos:t.pos+1}function h(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function l(t,e,i){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var o=i.pos-1;o>=t;o--)i.buf[o+n]=i.buf[o]}function p(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function f(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function d(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function c(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function g(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function y(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function v(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function w(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function b(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function F(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function P(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function m(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}o.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),o=n>>3,s=this.pos;this.type=7&n,t(o,e,this),this.pos===s&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=F(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=m(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=F(this.buf,this.pos)+F(this.buf,this.pos+4)*s;return this.pos+=8,t},readSFixed64:function(){var t=F(this.buf,this.pos)+m(this.buf,this.pos+4)*s;return this.pos+=8,t},readFloat:function(){var t=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,n=this.buf;return e=127&(i=n[this.pos++]),i<128?e:(e|=(127&(i=n[this.pos++]))<<7,i<128?e:(e|=(127&(i=n[this.pos++]))<<14,i<128?e:(e|=(127&(i=n[this.pos++]))<<21,i<128?e:function(t,e,i){var n,o,s=i.buf;if(o=s[i.pos++],n=(112&o)>>4,o<128)return h(t,n,e);if(o=s[i.pos++],n|=(127&o)<<3,o<128)return h(t,n,e);if(o=s[i.pos++],n|=(127&o)<<10,o<128)return h(t,n,e);if(o=s[i.pos++],n|=(127&o)<<17,o<128)return h(t,n,e);if(o=s[i.pos++],n|=(127&o)<<24,o<128)return h(t,n,e);if(o=s[i.pos++],n|=(1&o)<<31,o<128)return h(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&a?function(t,e,i){return a.decode(t.subarray(e,i))}(this.buf,e,t):function(t,e,i){var n="",o=e;for(;o<i;){var s,r,a,u=t[o],h=null,l=u>239?4:u>223?3:u>191?2:1;if(o+l>i)break;1===l?u<128&&(h=u):2===l?128==(192&(s=t[o+1]))&&(h=(31&u)<<6|63&s)<=127&&(h=null):3===l?(s=t[o+1],r=t[o+2],128==(192&s)&&128==(192&r)&&((h=(15&u)<<12|(63&s)<<6|63&r)<=2047||h>=55296&&h<=57343)&&(h=null)):4===l&&(s=t[o+1],r=t[o+2],a=t[o+3],128==(192&s)&&128==(192&r)&&128==(192&a)&&((h=(15&u)<<18|(63&s)<<12|(63&r)<<6|63&a)<=65535||h>=1114112)&&(h=null)),null===h?(h=65533,l=1):h>65535&&(h-=65536,n+=String.fromCharCode(h>>>10&1023|55296),h=56320|1023&h),n+=String.fromCharCode(h),o+=l}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==o.Bytes)return t.push(this.readVarint(e));var i=u(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==o.Bytes)return t.push(this.readSVarint());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==o.Bytes)return t.push(this.readBoolean());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==o.Bytes)return t.push(this.readFloat());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==o.Bytes)return t.push(this.readDouble());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==o.Bytes)return t.push(this.readFixed32());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==o.Bytes)return t.push(this.readSFixed32());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==o.Bytes)return t.push(this.readFixed64());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==o.Bytes)return t.push(this.readSFixed64());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===o.Varint)for(;this.buf[this.pos++]>127;);else if(e===o.Bytes)this.pos=this.readVarint()+this.pos;else if(e===o.Fixed32)this.pos+=4;else{if(e!==o.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),P(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),P(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),P(this.buf,-1&t,this.pos),P(this.buf,Math.floor(t*r),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),P(this.buf,-1&t,this.pos),P(this.buf,Math.floor(t*r),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var i,n;t>=0?(i=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(i=~(-t%4294967296))?i=i+1|0:(i=0,n=n+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos]=127&t}(i,0,e),function(t,e){var i=(7&t)<<4;if(e.buf[e.pos++]|=i|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,i){for(var n,o,s=0;s<e.length;s++){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){n>56319||s+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):o=n;continue}if(n<56320){t[i++]=239,t[i++]=191,t[i++]=189,o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&(t[i++]=239,t[i++]=191,t[i++]=189,o=null);n<128?t[i++]=n:(n<2048?t[i++]=n>>6|192:(n<65536?t[i++]=n>>12|224:(t[i++]=n>>18|240,t[i++]=n>>12&63|128),t[i++]=n>>6&63|128),t[i++]=63&n|128)}return i}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&l(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),n.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),n.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;n>=128&&l(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,o.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,c,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,w,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,b,e)},writeBytesField:function(t,e){this.writeTag(t,o.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,o.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,o.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,o.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,o.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,o.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,o.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,o.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,o.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,o.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},86879:(t,e,i)=>{"use strict";function n(t,e){const i=null==e?void 0:e.globalFeatureId;return void 0!==i?function(t,e){const i=s(t);for(const n of i){let t=0,i=n.featureIds.value[0];for(let o=0;o<n.featureIds.value.length;o++){const s=n.featureIds.value[o];if(s!==i){if(e===n.globalFeatureIds.value[t])return r(n,t,o);t=o,i=s}}if(e===n.globalFeatureIds.value[t])return r(n,t,n.featureIds.value.length)}throw new Error(`featureId:${e} not found`)}(t,i):function(t,e){const i=s(t,e);return function(t){const e=[];for(const i of t){if(0===i.featureIds.value.length)continue;let t=0,n=i.featureIds.value[0];for(let o=0;o<i.featureIds.value.length;o++){const s=i.featureIds.value[o];s!==n&&(e.push(r(i,t,o)),t=o,n=s)}e.push(r(i,t,i.featureIds.value.length))}return e}(i)}(t,null==e?void 0:e.type)}function o(t,e,i){switch(t.type){case"Point":return function(t,e,i){const{positions:n}=t,o=u(n,e,i);if(o.length>1)return{type:"MultiPoint",coordinates:o};return{type:"Point",coordinates:o[0]}}(t,e,i);case"LineString":return function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const{positions:n}=t,o=t.pathIndices.value.filter((t=>t>=e&&t<=i));if(!(o.length>2)){return{type:"LineString",coordinates:u(n,o[0],o[1])}}const s=[];for(let r=0;r<o.length-1;r++){const t=u(n,o[r],o[r+1]);s.push(t)}return{type:"MultiLineString",coordinates:s}}(t,e,i);case"Polygon":return a(t,e,i);default:const n=t;throw new Error(`Unsupported geometry type: ${null==n?void 0:n.type}`)}}function s(t,e){const i=[];return t.points&&(t.points.type="Point",i.push(t.points)),t.lines&&(t.lines.type="LineString",i.push(t.lines)),t.polygons&&(t.polygons.type="Polygon",i.push(t.polygons)),i}function r(t,e,i){const n=o(t,e,i),s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=Object.assign({},t.properties[t.featureIds.value[e]]);for(const n in t.numericProps)i[n]=t.numericProps[n].value[e];return i}(t,e,i),r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.fields&&t.fields[t.featureIds.value[e]]}(t,e,i);return{type:"Feature",geometry:n,properties:s,...r}}function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const{positions:n}=t,o=t.polygonIndices.value.filter((t=>t>=e&&t<=i)),s=t.primitivePolygonIndices.value.filter((t=>t>=e&&t<=i));if(!(o.length>2)){const t=[];for(let e=0;e<s.length-1;e++){const i=u(n,s[e],s[e+1]);t.push(i)}return{type:"Polygon",coordinates:t}}const r=[];for(let u=0;u<o.length-1;u++){const e=a(t,o[u],o[u+1]).coordinates;r.push(e)}return{type:"MultiPolygon",coordinates:r}}function u(t,e,i){e=e||0,i=i||t.value.length/t.size;const n=[];for(let o=e;o<i;o++){const e=Array();for(let i=o*t.size;i<(o+1)*t.size;i++)e.push(Number(t.value[i]));n.push(e)}return n}i.d(e,{F:()=>n})},46426:(t,e,i)=>{"use strict";i.d(e,{D:()=>R});var n=i(78064);function o(t,e,i){const n=s(t),o=Object.keys(n).filter((t=>n[t]!==Array));return function(t,e,i){const{pointPositionsCount:n,pointFeaturesCount:o,linePositionsCount:s,linePathsCount:h,lineFeaturesCount:p,polygonPositionsCount:d,polygonObjectsCount:c,polygonRingsCount:g,polygonFeaturesCount:y,propArrayTypes:v,coordLength:w}=e,{numericPropKeys:b=[],PositionDataType:F=Float32Array,triangulate:P=!0}=i,m=t[0]&&"id"in t[0],_=t.length>65535?Uint32Array:Uint16Array,x={type:"Point",positions:new F(n*w),globalFeatureIds:new _(n),featureIds:o>65535?new Uint32Array(n):new Uint16Array(n),numericProps:{},properties:[],fields:[]},V={type:"LineString",pathIndices:s>65535?new Uint32Array(h+1):new Uint16Array(h+1),positions:new F(s*w),globalFeatureIds:new _(s),featureIds:p>65535?new Uint32Array(s):new Uint16Array(s),numericProps:{},properties:[],fields:[]},I={type:"Polygon",polygonIndices:d>65535?new Uint32Array(c+1):new Uint16Array(c+1),primitivePolygonIndices:d>65535?new Uint32Array(g+1):new Uint16Array(g+1),positions:new F(d*w),globalFeatureIds:new _(d),featureIds:y>65535?new Uint32Array(d):new Uint16Array(d),numericProps:{},properties:[],fields:[]};P&&(I.triangles=[]);for(const r of[x,V,I])for(const t of b){const e=v[t];r.numericProps[t]=new e(r.positions.length/w)}V.pathIndices[h]=s,I.polygonIndices[c]=d,I.primitivePolygonIndices[g]=d;const S={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0};for(const l of t){const t=l.geometry,e=l.properties||{};switch(t.type){case"Point":r(t,x,S,w,e),x.properties.push(f(e,b)),m&&x.fields.push({id:l.id}),S.pointFeature++;break;case"LineString":a(t,V,S,w,e),V.properties.push(f(e,b)),m&&V.fields.push({id:l.id}),S.lineFeature++;break;case"Polygon":u(t,I,S,w,e),I.properties.push(f(e,b)),m&&I.fields.push({id:l.id}),S.polygonFeature++;break;default:throw new Error("Invalid geometry type")}S.feature++}return function(t,e,i,n){const o={points:{...t,positions:{value:t.positions,size:n},globalFeatureIds:{value:t.globalFeatureIds,size:1},featureIds:{value:t.featureIds,size:1},numericProps:l(t.numericProps,1)},lines:{...e,positions:{value:e.positions,size:n},pathIndices:{value:e.pathIndices,size:1},globalFeatureIds:{value:e.globalFeatureIds,size:1},featureIds:{value:e.featureIds,size:1},numericProps:l(e.numericProps,1)},polygons:{...i,positions:{value:i.positions,size:n},polygonIndices:{value:i.polygonIndices,size:1},primitivePolygonIndices:{value:i.primitivePolygonIndices,size:1},globalFeatureIds:{value:i.globalFeatureIds,size:1},featureIds:{value:i.featureIds,size:1},numericProps:l(i.numericProps,1)}};o.polygons&&i.triangles&&(o.polygons.triangles={value:new Uint32Array(i.triangles),size:1});return o}(x,V,I,w)}(t,{propArrayTypes:n,...e},{numericPropKeys:i&&i.numericPropKeys||o,PositionDataType:i?i.PositionDataType:Float32Array,triangulate:!i||i.triangulate})}function s(t){const e={};for(const i of t)if(i.properties)for(const t in i.properties){const n=i.properties[t];e[t]=d(n,e[t])}return e}function r(t,e,i,n,o){e.positions.set(t.data,i.pointPosition*n);const s=t.data.length/n;p(e,o,i.pointPosition,s),e.globalFeatureIds.fill(i.feature,i.pointPosition,i.pointPosition+s),e.featureIds.fill(i.pointFeature,i.pointPosition,i.pointPosition+s),i.pointPosition+=s}function a(t,e,i,n,o){e.positions.set(t.data,i.linePosition*n);const s=t.data.length/n;p(e,o,i.linePosition,s),e.globalFeatureIds.fill(i.feature,i.linePosition,i.linePosition+s),e.featureIds.fill(i.lineFeature,i.linePosition,i.linePosition+s);for(let r=0,a=t.indices.length;r<a;++r){const o=t.indices[r],s=r===a-1?t.data.length:t.indices[r+1];e.pathIndices[i.linePath++]=i.linePosition,i.linePosition+=(s-o)/n}}function u(t,e,i,n,o){e.positions.set(t.data,i.polygonPosition*n);const s=t.data.length/n;p(e,o,i.polygonPosition,s),e.globalFeatureIds.fill(i.feature,i.polygonPosition,i.polygonPosition+s),e.featureIds.fill(i.polygonFeature,i.polygonPosition,i.polygonPosition+s);for(let r=0,a=t.indices.length;r<a;++r){const o=i.polygonPosition;e.polygonIndices[i.polygonObject++]=o;const s=t.areas[r],a=t.indices[r],u=t.indices[r+1];for(let r=0,h=a.length;r<h;++r){const o=a[r],s=r===h-1?void 0===u?t.data.length:u[0]:a[r+1];e.primitivePolygonIndices[i.polygonRing++]=i.polygonPosition,i.polygonPosition+=(s-o)/n}h(e,s,a,{startPosition:o,endPosition:i.polygonPosition,coordLength:n})}}function h(t,e,i,o){let{startPosition:s,endPosition:r,coordLength:a}=o;if(!t.triangles)return;const u=s*a,h=r*a,l=t.positions.subarray(u,h),p=i[0],f=i.slice(1).map((t=>(t-p)/a)),d=(0,n.OT)(l,f,a,e);for(let n=0,c=d.length;n<c;++n)t.triangles.push(s+d[n])}function l(t,e){const i={};for(const n in t)i[n]={value:t[n],size:e};return i}function p(t,e,i,n){for(const o in t.numericProps)if(o in e){const s=e[o];t.numericProps[o].fill(s,i,i+n)}}function f(t,e){const i={};for(const n in t)e.includes(n)||(i[n]=t[n]);return i}function d(t,e){return e!==Array&&Number.isFinite(t)?e===Float64Array||Math.fround(t)!==t?Float64Array:Float32Array:Array}var c=i(3614);function g(t){let e=0;for(let i,n,o=0,s=t.length-1;o<t.length;s=o++)i=t[o],n=t[s],e+=(n[0]-i[0])*(i[1]+n[1]);return e}function y(t,e,i){e&&i&&(1===t?e.id=i.readVarint():2===t?function(t,e){const i=t.readVarint()+t.pos;for(;t.pos<i;){const i=e._keys[t.readVarint()],n=e._values[t.readVarint()];e.properties[i]=n}}(i,e):3===t?e.type=i.readVarint():4===t&&(e._geometry=i.pos))}class v{static get types(){return["Unknown","Point","LineString","Polygon"]}constructor(t,e,i,n,o){this.properties=void 0,this.extent=void 0,this.type=void 0,this.id=void 0,this._pbf=void 0,this._geometry=void 0,this._keys=void 0,this._values=void 0,this.properties={},this.extent=i,this.type=0,this.id=null,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(y,this,e)}loadGeometry(){const t=this._pbf;t.pos=this._geometry;const e=t.readVarint()+t.pos;let i=1,n=0,o=0,s=0;const r=[];let a;for(;t.pos<e;){if(n<=0){const e=t.readVarint();i=7&e,n=e>>3}if(n--,1===i||2===i)o+=t.readSVarint(),s+=t.readSVarint(),1===i&&(a&&r.push(a),a=[]),a&&a.push([o,s]);else{if(7!==i)throw new Error(`unknown command ${i}`);a&&a.push(a[0].slice())}}return a&&r.push(a),r}bbox(){const t=this._pbf;t.pos=this._geometry;const e=t.readVarint()+t.pos;let i=1,n=0,o=0,s=0,r=1/0,a=-1/0,u=1/0,h=-1/0;for(;t.pos<e;){if(n<=0){const e=t.readVarint();i=7&e,n=e>>3}if(n--,1===i||2===i)o+=t.readSVarint(),s+=t.readSVarint(),o<r&&(r=o),o>a&&(a=o),s<u&&(u=s),s>h&&(h=s);else if(7!==i)throw new Error(`unknown command ${i}`)}return[r,u,a,h]}_toGeoJSON(t){let e,i,n=this.loadGeometry(),o=v.types[this.type];switch(this.type){case 1:const o=[];for(e=0;e<n.length;e++)o[e]=n[e][0];n=o,t(n,this);break;case 2:for(e=0;e<n.length;e++)t(n[e],this);break;case 3:for(n=function(t){const e=t.length;if(e<=1)return[t];const i=[];let n,o;for(let s=0;s<e;s++){const e=g(t[s]);0!==e&&(void 0===o&&(o=e<0),o===e<0?(n&&i.push(n),n=[t[s]]):n&&n.push(t[s]))}return n&&i.push(n),i}(n),e=0;e<n.length;e++)for(i=0;i<n[e].length;i++)t(n[e][i],this)}1===n.length?n=n[0]:o=`Multi${o}`;const s={type:"Feature",geometry:{type:o,coordinates:n},properties:this.properties};return null!==this.id&&(s.id=this.id),s}toGeoJSON(t){if("function"==typeof t)return this._toGeoJSON(t);const{x:e,y:i,z:n}=t,o=this.extent*Math.pow(2,n),s=this.extent*e,r=this.extent*i;return this._toGeoJSON((function(t){for(let e=0;e<t.length;e++){const i=t[e];i[0]=360*(i[0]+s)/o-180;const n=180-360*(i[1]+r)/o;i[1]=360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90}}))}}class w{constructor(t,e){this.version=void 0,this.name=void 0,this.extent=void 0,this.length=void 0,this._pbf=void 0,this._keys=void 0,this._values=void 0,this._features=void 0,this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(b,this,e),this.length=this._features.length}feature(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];const e=this._pbf.readVarint()+this._pbf.pos;return new v(this._pbf,e,this.extent,this._keys,this._values)}}function b(t,e,i){e&&i&&(15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(t){let e=null;const i=t.readVarint()+t.pos;for(;t.pos<i;){const i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}(i)))}class F{constructor(t,e){this.layers=void 0,this.layers=t.readFields(P,{},e)}}function P(t,e,i){if(3===t&&i){const t=new w(i,i.readVarint()+i.pos);t.length&&e&&(e[t.name]=t)}}function m(t){const e=t.indices.length,i="Polygon";if(e<=1)return{type:i,data:t.data,areas:[[(0,n.ap)(t.data)]],indices:[t.indices]};const o=[],s=[];let r,a=[],u=[],h=0;for(let l,p,f=0;f<e;f++){p=t.indices[f]-h,l=t.indices[f+1]-h||t.data.length;const e=t.data.slice(p,l),i=(0,n.ap)(e);if(0!==i)void 0===r&&(r=i<0),r===i<0?(u.length&&(o.push(a),s.push(u)),u=[p],a=[i]):(a.push(i),u.push(p));else{const e=t.data.slice(0,p),i=t.data.slice(l);t.data=e.concat(i),h+=l-p}}return a&&o.push(a),u.length&&s.push(u),{type:i,areas:o,indices:s,data:t.data}}function _(t,e,i){e&&i&&(1===t?e.id=i.readVarint():2===t?function(t,e){const i=t.readVarint()+t.pos;for(;t.pos<i;){const i=e._keys[t.readVarint()],n=e._values[t.readVarint()];e.properties[i]=n}}(i,e):3===t?e.type=i.readVarint():4===t&&(e._geometry=i.pos))}let x,V,I,S,k,M,C;class B{constructor(t,e,i,n,o,s){this.properties=void 0,this.extent=void 0,this.type=void 0,this.id=void 0,this._pbf=void 0,this._geometry=void 0,this._keys=void 0,this._values=void 0,this._geometryInfo=void 0,this.properties={},this.extent=i,this.type=0,this.id=null,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,this._geometryInfo=s,t.readFields(_,this,e)}loadGeometry(){const t=this._pbf;t.pos=this._geometry,x=t.readVarint()+t.pos,V=1,S=0,k=0,M=0,C=0;const e=[],i=[];for(;t.pos<x;)if(S<=0&&(I=t.readVarint(),V=7&I,S=I>>3),S--,1===V||2===V)k+=t.readSVarint(),M+=t.readSVarint(),1===V&&e.push(C),i.push(k,M),C+=2;else{if(7!==V)throw new Error(`unknown command ${V}`);if(C>0){const t=e[e.length-1];i.push(i[t],i[t+1]),C+=2}}return{data:i,indices:e}}_toBinaryCoordinates(t){const e=this.loadGeometry();let i;t(e.data,this);switch(this.type){case 1:this._geometryInfo.pointFeaturesCount++,this._geometryInfo.pointPositionsCount+=e.indices.length,i={type:"Point",...e};break;case 2:this._geometryInfo.lineFeaturesCount++,this._geometryInfo.linePathsCount+=e.indices.length,this._geometryInfo.linePositionsCount+=e.data.length/2,i={type:"LineString",...e};break;case 3:i=m(e),this._geometryInfo.polygonFeaturesCount++,this._geometryInfo.polygonObjectsCount+=i.indices.length;for(const t of i.indices)this._geometryInfo.polygonRingsCount+=t.length;this._geometryInfo.polygonPositionsCount+=i.data.length/2;break;default:throw new Error(`Invalid geometry type: ${this.type}`)}const n={type:"Feature",geometry:i,properties:this.properties};return null!==this.id&&(n.id=this.id),n}toBinaryCoordinates(t){if("function"==typeof t)return this._toBinaryCoordinates(t);const{x:e,y:i,z:n}=t,o=this.extent*Math.pow(2,n),s=this.extent*e,r=this.extent*i;return this._toBinaryCoordinates((t=>function(t,e,i,n){for(let o=0,s=t.length;o<s;o+=2){t[o]=360*(t[o]+e)/n-180;const s=180-360*(t[o+1]+i)/n;t[o+1]=360/Math.PI*Math.atan(Math.exp(s*Math.PI/180))-90}}(t,s,r,o)))}}class A{constructor(t,e){this.version=void 0,this.name=void 0,this.extent=void 0,this.length=void 0,this._pbf=void 0,this._keys=void 0,this._values=void 0,this._features=void 0,this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(T,this,e),this.length=this._features.length}feature(t,e){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];const i=this._pbf.readVarint()+this._pbf.pos;return new B(this._pbf,i,this.extent,this._keys,this._values,e)}}function T(t,e,i){e&&i&&(15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(t){let e=null;const i=t.readVarint()+t.pos;for(;t.pos<i;){const i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}(i)))}class N{constructor(t,e){this.layers=void 0,this.layers=t.readFields(z,{},e)}}function z(t,e,i){if(3===t&&i){const t=new A(i,i.readVarint()+i.pos);t.length&&e&&(e[t.name]=t)}}function E(t,e){var i,n;const o=function(t){var e;if(null==t||!t.mvt)throw new Error("mvt options required");const i="wgs84"===(null===(e=t.mvt)||void 0===e?void 0:e.coordinates),{tileIndex:n}=t.mvt,o=n&&Number.isFinite(n.x)&&Number.isFinite(n.y)&&Number.isFinite(n.z);if(i&&!o)throw new Error("MVT Loader: WGS84 coordinates need tileIndex property");return t.mvt}(e),s=(null==e||null===(i=e.gis)||void 0===i?void 0:i.format)||(null==e||null===(n=e.mvt)||void 0===n?void 0:n.shape)||(null==e?void 0:e.shape);switch(s){case"columnar-table":return{shape:"columnar-table",data:U(t,o)};case"geojson-table":return{shape:"geojson-table",type:"FeatureCollection",features:L(t,o)};case"geojson":return L(t,o);case"binary-geometry":case"binary":return U(t,o);default:throw new Error(s||"undefined shape")}}function U(t,e){const[i,n]=function(t,e){const i=[],n={coordLength:2,pointPositionsCount:0,pointFeaturesCount:0,linePositionsCount:0,linePathsCount:0,lineFeaturesCount:0,polygonPositionsCount:0,polygonObjectsCount:0,polygonRingsCount:0,polygonFeaturesCount:0};if(t.byteLength<=0)return[i,n];const o=new N(new c(t)),s=e&&Array.isArray(e.layers)?e.layers:Object.keys(o.layers);return s.forEach((t=>{const s=o.layers[t];if(s)for(let o=0;o<s.length;o++){const r=O(s.feature(o,n),e,t);i.push(r)}})),[i,n]}(t,e),s=o(i,n);return s.byteLength=t.byteLength,s}function L(t,e){if(t.byteLength<=0)return[];const i=[],n=new F(new c(t));return(Array.isArray(e.layers)?e.layers:Object.keys(n.layers)).forEach((t=>{const o=n.layers[t];if(o)for(let n=0;n<o.length;n++){const s=D(o.feature(n),e,t);i.push(s)}})),i}function D(t,e,i){const n=t.toGeoJSON("wgs84"===e.coordinates?e.tileIndex:j);return e.layerProperty&&(n.properties[e.layerProperty]=i),n}function O(t,e,i){const n=t.toBinaryCoordinates("wgs84"===e.coordinates?e.tileIndex:G);return e.layerProperty&&n.properties&&(n.properties[e.layerProperty]=i),n}function j(t,e){const{extent:i}=e;for(let n=0;n<t.length;n++){const e=t[n];e[0]/=i,e[1]/=i}}function G(t,e){const{extent:i}=e;for(let n=0,o=t.length;n<o;++n)t[n]/=i}const R={name:"Mapbox Vector Tile",id:"mvt",module:"mvt",version:"undefined"!=typeof __VERSION__?__VERSION__:"latest",extensions:["mvt","pbf"],mimeTypes:["application/vnd.mapbox-vector-tile","application/x-protobuf"],worker:!0,category:"geometry",options:{mvt:{shape:"geojson",coordinates:"local",layerProperty:"layerName",layers:void 0,tileIndex:null}}}}}]);