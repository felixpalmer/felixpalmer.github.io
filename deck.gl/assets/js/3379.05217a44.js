"use strict";(self.webpackChunkproject_website=self.webpackChunkproject_website||[]).push([[3379],{42622:(e,t,n)=>{function o(e,t,n){switch(e.type){case"Point":return function(e,t,n){const{positions:o}=e,r=i(o,t,n);if(r.length>1)return{type:"MultiPoint",coordinates:r};return{type:"Point",coordinates:r[0]}}(e,t,n);case"LineString":return function(e,t=-1/0,n=1/0){const{positions:o}=e,r=e.pathIndices.value.filter((e=>e>=t&&e<=n));if(!(r.length>2)){return{type:"LineString",coordinates:i(o,r[0],r[1])}}const s=[];for(let a=0;a<r.length-1;a++){const e=i(o,r[a],r[a+1]);s.push(e)}return{type:"MultiLineString",coordinates:s}}(e,t,n);case"Polygon":return r(e,t,n);default:const o=e;throw new Error(`Unsupported geometry type: ${o?.type}`)}}function r(e,t=-1/0,n=1/0){const{positions:o}=e,s=e.polygonIndices.value.filter((e=>e>=t&&e<=n)),a=e.primitivePolygonIndices.value.filter((e=>e>=t&&e<=n));if(!(s.length>2)){const e=[];for(let t=0;t<a.length-1;t++){const n=i(o,a[t],a[t+1]);e.push(n)}return{type:"Polygon",coordinates:e}}const l=[];for(let i=0;i<s.length-1;i++){const t=r(e,s[i],s[i+1]).coordinates;l.push(t)}return{type:"MultiPolygon",coordinates:l}}function i(e,t,n){t=t||0,n=n||e.value.length/e.size;const o=[];for(let r=t;r<n;r++){const t=Array();for(let n=r*e.size;n<(r+1)*e.size;n++)t.push(Number(e.value[n]));o.push(t)}return o}function s(e,t){const n=t?.globalFeatureId;return void 0!==n?function(e,t){const n=a(e);for(const o of n){let e=0,n=o.featureIds.value[0];for(let r=0;r<o.featureIds.value.length;r++){const i=o.featureIds.value[r];if(i!==n){if(t===o.globalFeatureIds.value[e])return l(o,e,r);e=r,n=i}}if(t===o.globalFeatureIds.value[e])return l(o,e,o.featureIds.value.length)}throw new Error(`featureId:${t} not found`)}(e,n):function(e,t){const n=a(e,t);return function(e){const t=[];for(const n of e){if(0===n.featureIds.value.length)continue;let e=0,o=n.featureIds.value[0];for(let r=0;r<n.featureIds.value.length;r++){const i=n.featureIds.value[r];i!==o&&(t.push(l(n,e,r)),e=r,o=i)}t.push(l(n,e,n.featureIds.value.length))}return t}(n)}(e,t?.type)}function a(e,t){const n=[];return e.points&&(e.points.type="Point",n.push(e.points)),e.lines&&(e.lines.type="LineString",n.push(e.lines)),e.polygons&&(e.polygons.type="Polygon",n.push(e.polygons)),n}function l(e,t,n){const r=o(e,t,n),i=function(e,t=0){const n=Object.assign({},e.properties[e.featureIds.value[t]]);for(const o in e.numericProps)n[o]=e.numericProps[o].value[t];return n}(e,t),s=function(e,t=0){return e.fields&&e.fields[e.featureIds.value[t]]}(e,t);return{type:"Feature",geometry:r,properties:i,...s}}n.d(t,{p:()=>s})},80946:(e,t,n)=>{n.d(t,{f:()=>z});var o=n(1746);function r(e,t,n){const o=function(e){const t={};for(const n of e)if(n.properties)for(const e in n.properties){const o=n.properties[e];t[e]=f(o,t[e])}return t}(e),r=Object.keys(o).filter((e=>o[e]!==Array));return function(e,t,n){const{pointPositionsCount:o,pointFeaturesCount:r,linePositionsCount:l,linePathsCount:p,lineFeaturesCount:f,polygonPositionsCount:d,polygonObjectsCount:h,polygonRingsCount:y,polygonFeaturesCount:g,propArrayTypes:P,coordLength:m}=t,{numericPropKeys:I=[],PositionDataType:b=Float32Array,triangulate:v=!0}=n,w=e[0]&&"id"in e[0],_=e.length>65535?Uint32Array:Uint16Array,F={type:"Point",positions:new b(o*m),globalFeatureIds:new _(o),featureIds:r>65535?new Uint32Array(o):new Uint16Array(o),numericProps:{},properties:[],fields:[]},C={type:"LineString",pathIndices:l>65535?new Uint32Array(p+1):new Uint16Array(p+1),positions:new b(l*m),globalFeatureIds:new _(l),featureIds:f>65535?new Uint32Array(l):new Uint16Array(l),numericProps:{},properties:[],fields:[]},A={type:"Polygon",polygonIndices:d>65535?new Uint32Array(h+1):new Uint16Array(h+1),primitivePolygonIndices:d>65535?new Uint32Array(y+1):new Uint16Array(y+1),positions:new b(d*m),globalFeatureIds:new _(d),featureIds:g>65535?new Uint32Array(d):new Uint16Array(d),numericProps:{},properties:[],fields:[]};v&&(A.triangles=[]);for(const i of[F,C,A])for(const e of I){const t=P[e];i.numericProps[e]=new t(i.positions.length/m)}C.pathIndices[p]=l,A.polygonIndices[h]=d,A.primitivePolygonIndices[y]=d;const k={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0};for(const u of e){const e=u.geometry,t=u.properties||{};switch(e.type){case"Point":i(e,F,k,m,t),F.properties.push(c(t,I)),w&&F.fields.push({id:u.id}),k.pointFeature++;break;case"LineString":s(e,C,k,m,t),C.properties.push(c(t,I)),w&&C.fields.push({id:u.id}),k.lineFeature++;break;case"Polygon":a(e,A,k,m,t),A.properties.push(c(t,I)),w&&A.fields.push({id:u.id}),k.polygonFeature++;break;default:throw new Error("Invalid geometry type")}k.feature++}return function(e,t,n,o){const r={shape:"binary-feature-collection",points:{...e,positions:{value:e.positions,size:o},globalFeatureIds:{value:e.globalFeatureIds,size:1},featureIds:{value:e.featureIds,size:1},numericProps:u(e.numericProps,1)},lines:{...t,positions:{value:t.positions,size:o},pathIndices:{value:t.pathIndices,size:1},globalFeatureIds:{value:t.globalFeatureIds,size:1},featureIds:{value:t.featureIds,size:1},numericProps:u(t.numericProps,1)},polygons:{...n,positions:{value:n.positions,size:o},polygonIndices:{value:n.polygonIndices,size:1},primitivePolygonIndices:{value:n.primitivePolygonIndices,size:1},globalFeatureIds:{value:n.globalFeatureIds,size:1},featureIds:{value:n.featureIds,size:1},numericProps:u(n.numericProps,1)}};r.polygons&&n.triangles&&(r.polygons.triangles={value:new Uint32Array(n.triangles),size:1});return r}(F,C,A,m)}(e,{propArrayTypes:o,...t},{numericPropKeys:n&&n.numericPropKeys||r,PositionDataType:n?n.PositionDataType:Float32Array,triangulate:!n||n.triangulate})}function i(e,t,n,o,r){t.positions.set(e.data,n.pointPosition*o);const i=e.data.length/o;p(t,r,n.pointPosition,i),t.globalFeatureIds.fill(n.feature,n.pointPosition,n.pointPosition+i),t.featureIds.fill(n.pointFeature,n.pointPosition,n.pointPosition+i),n.pointPosition+=i}function s(e,t,n,o,r){t.positions.set(e.data,n.linePosition*o);const i=e.data.length/o;p(t,r,n.linePosition,i),t.globalFeatureIds.fill(n.feature,n.linePosition,n.linePosition+i),t.featureIds.fill(n.lineFeature,n.linePosition,n.linePosition+i);for(let s=0,a=e.indices.length;s<a;++s){const r=e.indices[s],i=s===a-1?e.data.length:e.indices[s+1];t.pathIndices[n.linePath++]=n.linePosition,n.linePosition+=(i-r)/o}}function a(e,t,n,o,r){t.positions.set(e.data,n.polygonPosition*o);const i=e.data.length/o;p(t,r,n.polygonPosition,i),t.globalFeatureIds.fill(n.feature,n.polygonPosition,n.polygonPosition+i),t.featureIds.fill(n.polygonFeature,n.polygonPosition,n.polygonPosition+i);for(let s=0,a=e.indices.length;s<a;++s){const r=n.polygonPosition;t.polygonIndices[n.polygonObject++]=r;const i=e.areas[s],a=e.indices[s],u=e.indices[s+1];for(let s=0,l=a.length;s<l;++s){const r=a[s],i=s===l-1?void 0===u?e.data.length:u[0]:a[s+1];t.primitivePolygonIndices[n.polygonRing++]=n.polygonPosition,n.polygonPosition+=(i-r)/o}l(t,i,a,{startPosition:r,endPosition:n.polygonPosition,coordLength:o})}}function l(e,t,n,{startPosition:r,endPosition:i,coordLength:s}){if(!e.triangles)return;const a=r*s,l=i*s,u=e.positions.subarray(a,l),p=n[0],c=n.slice(1).map((e=>(e-p)/s)),f=(0,o.hY)(u,c,s,t);for(let o=0,d=f.length;o<d;++o)e.triangles.push(r+f[o])}function u(e,t){const n={};for(const o in e)n[o]={value:e[o],size:t};return n}function p(e,t,n,o){for(const r in e.numericProps)if(r in t){const i=t[r];e.numericProps[r].fill(i,n,n+o)}}function c(e,t){const n={};for(const o in e)t.includes(o)||(n[o]=e[o]);return n}function f(e,t){return t!==Array&&Number.isFinite(e)?t===Float64Array||Math.fround(e)!==e?Float64Array:Float32Array:Array}var d=n(52027),h=n(15335);function y(e){let t=0;for(let n,o,r=0,i=e.length-1;r<e.length;i=r++)n=e[r],o=e[i],t+=(o[0]-n[0])*(n[1]+o[1]);return t}function g(e,t){if(Array.isArray(e[0])){for(const n of e)g(n,t);return}const n=e;n[0]/=t,n[1]/=t}function P(e,t){for(let n=0;n<e.length;++n)e[n]/=t}function m(e,t,n){if("number"!=typeof e[0][0]){for(const o of e)m(o,t,n);return}const o=n*Math.pow(2,t.z),r=n*t.x,i=n*t.y;for(let s=0;s<e.length;s++){const t=e[s];t[0]=360*(t[0]+r)/o-180;const n=180-360*(t[1]+i)/o;t[1]=360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90}}class I{properties;extent;type;id;_pbf;_geometry;_keys;_values;_geometryInfo;static types=["Unknown","Point","LineString","Polygon"];constructor(e,t,n,o,r,i){this.properties={},this.extent=n,this.type=0,this.id=null,this._pbf=e,this._geometry=-1,this._keys=o,this._values=r,this._geometryInfo=i,e.readFields(v,this,t)}toGeoJSONFeature(e,t){const n=this.loadGeometry();return b(this,n,"wgs84"===e?e=>m(e,t,this.extent):g)}toBinaryFeature(e,t){const n=this.loadFlatGeometry();return"wgs84"===e?this._toBinaryCoordinates(n,(e=>function(e,t,n){const{x:o,y:r,z:i}=t,s=n*Math.pow(2,i),a=n*o,l=n*r;for(let u=0,p=e.length;u<p;u+=2){e[u]=360*(e[u]+a)/s-180;const t=180-360*(e[u+1]+l)/s;e[u+1]=360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}}(e,t,this.extent))):this._toBinaryCoordinates(n,P)}bbox(){const e=this._pbf;e.pos=this._geometry;const t=e.readVarint()+e.pos;let n=1,o=0,r=0,i=0,s=1/0,a=-1/0,l=1/0,u=-1/0;for(;e.pos<t;){if(o<=0){const t=e.readVarint();n=7&t,o=t>>3}if(o--,1===n||2===n)r+=e.readSVarint(),i+=e.readSVarint(),r<s&&(s=r),r>a&&(a=r),i<l&&(l=i),i>u&&(u=i);else if(7!==n)throw new Error(`unknown command ${n}`)}return[s,l,a,u]}_toBinaryCoordinates(e,t){let n;t(e.data,this.extent);switch(this.type){case 1:this._geometryInfo.pointFeaturesCount++,this._geometryInfo.pointPositionsCount+=e.indices.length,n={type:"Point",...e};break;case 2:this._geometryInfo.lineFeaturesCount++,this._geometryInfo.linePathsCount+=e.indices.length,this._geometryInfo.linePositionsCount+=e.data.length/2,n={type:"LineString",...e};break;case 3:n=function(e){const t=e.indices.length,n="Polygon";if(t<=1)return{type:n,data:e.data,areas:[[(0,o.IC)(e.data)]],indices:[e.indices]};const r=[],i=[];let s,a=[],l=[],u=0;for(let p,c,f=0;f<t;f++){c=e.indices[f]-u,p=e.indices[f+1]-u||e.data.length;const t=e.data.slice(c,p),n=(0,o.IC)(t);if(0!==n)void 0===s&&(s=n<0),s===n<0?(l.length&&(r.push(a),i.push(l)),l=[c],a=[n]):(a.push(n),l.push(c));else{const t=e.data.slice(0,c),n=e.data.slice(p);e.data=t.concat(n),u+=p-c}}return a&&r.push(a),l.length&&i.push(l),{type:n,areas:r,indices:i,data:e.data}}(e),this._geometryInfo.polygonFeaturesCount++,this._geometryInfo.polygonObjectsCount+=n.indices.length;for(const e of n.indices)this._geometryInfo.polygonRingsCount+=e.length;this._geometryInfo.polygonPositionsCount+=n.data.length/2;break;default:throw new Error(`Invalid geometry type: ${this.type}`)}const r={type:"Feature",geometry:n,properties:this.properties};return null!==this.id&&(r.id=this.id),r}loadGeometry(){const e=this._pbf;e.pos=this._geometry;const t=e.readVarint()+e.pos;let n=1,o=0,r=0,i=0;const s=[];let a;for(;e.pos<t;){if(o<=0){const t=e.readVarint();n=7&t,o=t>>3}switch(o--,n){case 1:case 2:r+=e.readSVarint(),i+=e.readSVarint(),1===n&&(a&&s.push(a),a=[]),a&&a.push([r,i]);break;case 7:a&&a.push(a[0].slice());break;default:throw new Error(`unknown command ${n}`)}}return a&&s.push(a),s}loadFlatGeometry(){const e=this._pbf;e.pos=this._geometry;const t=e.readVarint()+e.pos;let n,o=1,r=0,i=0,s=0,a=0;const l=[],u=[];for(;e.pos<t;)if(r<=0&&(n=e.readVarint(),o=7&n,r=n>>3),r--,1===o||2===o)i+=e.readSVarint(),s+=e.readSVarint(),1===o&&l.push(a),u.push(i,s),a+=2;else{if(7!==o)throw new Error(`unknown command ${o}`);if(a>0){const e=l[l.length-1];u.push(u[e],u[e+1]),a+=2}}return{data:u,indices:l}}}function b(e,t,n){let o,r,i,s=I.types[e.type];switch(e.type){case 1:const s=[];for(o=0;o<t.length;o++)s[o]=t[o][0];i=s,n(i,e.extent);break;case 2:for(i=t,o=0;o<i.length;o++)n(i[o],e.extent);break;case 3:for(i=function(e){const t=e.length;if(t<=1)return[e];const n=[];let o,r;for(let i=0;i<t;i++){const t=y(e[i]);0!==t&&(void 0===r&&(r=t<0),r===t<0?(o&&n.push(o),o=[e[i]]):o&&o.push(e[i]))}return o&&n.push(o),n}(t),o=0;o<i.length;o++)for(r=0;r<i[o].length;r++)n(i[o][r],e.extent);break;default:throw new Error("illegal vector tile type")}1===i.length?i=i[0]:s=`Multi${s}`;const a={type:"Feature",geometry:{type:s,coordinates:i},properties:e.properties};return null!==e.id&&(a.properties||={},a.properties.id=e.id),a}function v(e,t,n){t&&n&&(1===e?t.id=n.readVarint():2===e?function(e,t){const n=e.readVarint()+e.pos;for(;e.pos<n;){const n=t._keys[e.readVarint()],o=t._values[e.readVarint()];t.properties[n]=o}}(n,t):3===e?t.type=n.readVarint():4===e&&(t._geometry=n.pos))}class w{version;name;extent;length;_pbf;_keys;_values;_features;constructor(e,t){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(_,this,t),this.length=this._features.length}getGeoJSONFeature(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];const t=this._pbf.readVarint()+this._pbf.pos;return new I(this._pbf,t,this.extent,this._keys,this._values)}getBinaryFeature(e,t){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];const n=this._pbf.readVarint()+this._pbf.pos;return new I(this._pbf,n,this.extent,this._keys,this._values,t)}}function _(e,t,n){t&&n&&(15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){let t=null;const n=e.readVarint()+e.pos;for(;e.pos<n;){const n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(n)))}class F{layers;constructor(e,t){this.layers=e.readFields(C,{},t)}}function C(e,t,n){if(3===e&&n){const e=new w(n,n.readVarint()+n.pos);e.length&&t&&(t[e.name]=e)}}function A(e,t){const n=function(e){if(!e?.mvt)throw new Error("mvt options required");if("wgs84"===e.mvt?.coordinates&&!e.mvt.tileIndex)throw new Error("MVT Loader: WGS84 coordinates need tileIndex property");e.gis&&d.R.warn('MVTLoader: "options.gis" is deprecated, use "options.mvt.shape" instead')();return e.mvt}(t),o=t?.gis?.format||t?.mvt?.shape||t?.shape;switch(o){case"columnar-table":return{shape:"columnar-table",data:k(e,n)};case"geojson-table":return{shape:"geojson-table",type:"FeatureCollection",features:V(e,n)};case"geojson":return V(e,n);case"binary-geometry":case"binary":return k(e,n);default:throw new Error(o||"undefined shape")}}function k(e,t){const[n,o]=function(e,t){const n=[],o={coordLength:2,pointPositionsCount:0,pointFeaturesCount:0,linePositionsCount:0,linePathsCount:0,lineFeaturesCount:0,polygonPositionsCount:0,polygonObjectsCount:0,polygonRingsCount:0,polygonFeaturesCount:0};if(e.byteLength<=0)return[n,o];const r=new F(new h(e)),i=t&&Array.isArray(t.layers)?t.layers:Object.keys(r.layers);return i.forEach((e=>{const i=r.layers[e];if(i)for(let r=0;r<i.length;r++){const s=S(i.getBinaryFeature(r,o),t,e);n.push(s)}})),[n,o]}(e,t),i=r(n,o);return i.byteLength=e.byteLength,i}function V(e,t){if(e.byteLength<=0)return[];const n=[],o=new F(new h(e));return(Array.isArray(t.layers)?t.layers:Object.keys(o.layers)).forEach((e=>{const r=o.layers[e];if(r)for(let o=0;o<r.length;o++){const i=x(r.getGeoJSONFeature(o),t,e);n.push(i)}})),n}function x(e,t,n){const o=e.toGeoJSONFeature(t.coordinates||"local",t.tileIndex);return t.layerProperty&&(o.properties||={},o.properties[t.layerProperty]=n),o}function S(e,t,n){const o=e.toBinaryFeature(t.coordinates||"local",t.tileIndex);return t.layerProperty&&o.properties&&(o.properties[t.layerProperty]=n),o}const z={name:"Mapbox Vector Tile",id:"mvt",module:"mvt",extensions:["mvt","pbf"],mimeTypes:["application/vnd.mapbox-vector-tile","application/x-protobuf"],category:"geometry",dataType:null,batchType:null,version:"4.4.0-alpha.14",worker:!0,options:{mvt:{shape:"geojson",coordinates:"local",layerProperty:"layerName",layers:void 0,tileIndex:void 0}}}}}]);